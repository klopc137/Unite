window.lavaAnimation=function(){"use strict";function o(t,i){this.x=t,this.y=i,this.magnitude=t*t+i*i,this.computed=0,this.force=0}var t,i={screen:{elem:null,callback:null,ctx:null,width:0,height:0,left:0,top:0,init:function(t,i,s){return this.elem=document.getElementById(t),this.callback=i||null,"CANVAS"==this.elem.tagName&&(this.ctx=this.elem.getContext("2d")),window.addEventListener("resize",function(){this.resize()}.bind(this),!1),this.elem.onselectstart=function(){return!1},this.elem.ondrag=function(){return!1},s&&this.resize(),this},resize:function(){var t=this.elem;for(this.width=t.offsetWidth,this.height=t.offsetHeight,this.left=0,this.top=0;null!=t;t=t.offsetParent)this.left+=t.offsetLeft,this.top+=t.offsetTop;this.ctx&&(this.elem.width=this.width,this.elem.height=this.height),this.callback&&this.callback()}}};o.prototype.add=function(t){return new o(this.x+t.x,this.y+t.y)};function r(t){this.vel=new o((.5<Math.random()?1:-1)*(.2+.25*Math.random()),(.5<Math.random()?1:-1)*(.2+Math.random())),this.pos=new o(.2*t.width+Math.random()*t.width*.6,.2*t.height+Math.random()*t.height*.6),this.size=t.wh/15+(1.4*Math.random()+.1)*(t.wh/15),this.width=t.width,this.height=t.height}r.prototype.move=function(){this.pos.x>=this.width-this.size?(0<this.vel.x&&(this.vel.x=-this.vel.x),this.pos.x=this.width-this.size):this.pos.x<=this.size&&(this.vel.x<0&&(this.vel.x=-this.vel.x),this.pos.x=this.size),this.pos.y>=this.height-this.size?(0<this.vel.y&&(this.vel.y=-this.vel.y),this.pos.y=this.height-this.size):this.pos.y<=this.size&&(this.vel.y<0&&(this.vel.y=-this.vel.y),this.pos.y=this.size),this.pos=this.pos.add(this.vel)};function s(t,i,s,h,e){this.step=5,this.width=t,this.height=i,this.wh=Math.min(t,i),this.sx=Math.floor(this.width/this.step),this.sy=Math.floor(this.height/this.step),this.paint=!1,this.metaFill=l(t,i,t,h,e),this.plx=[0,0,1,0,1,1,1,1,1,1,0,1,0,0,0,0],this.ply=[0,0,0,0,0,0,1,0,0,1,1,1,0,1,0,1],this.mscases=[0,3,0,3,1,3,0,3,2,2,0,2,1,1,0],this.ix=[1,0,-1,0,0,1,0,-1,-1,0,1,0,0,1,1,0,0,0,1,1],this.grid=[],this.balls=[],this.iter=0,this.sign=1;for(var n=0;n<(this.sx+2)*(this.sy+2);n++)this.grid[n]=new o(n%(this.sx+2)*this.step,Math.floor(n/(this.sx+2))*this.step);for(var a=0;a<s;a++)this.balls[a]=new r(this)}s.prototype.computeForce=function(t,i,s){var h,e=s||t+i*(this.sx+2);if(0===t||0===i||t===this.sx||i===this.sy)h=.6*this.sign;else{h=0;for(var n,a=this.grid[e],o=0;n=this.balls[o++];)h+=n.size*n.size/(-2*a.x*n.pos.x-2*a.y*n.pos.y+n.pos.magnitude+a.magnitude);h*=this.sign}return this.grid[e].force=h},s.prototype.marchingSquares=function(t){var i=t[0],s=t[1],h=t[2],e=i+s*(this.sx+2);if(this.grid[e].computed===this.iter)return!1;for(var n,a=0,o=0;o<4;o++){var r=i+this.ix[o+12]+(s+this.ix[o+16])*(this.sx+2),l=this.grid[r].force;(0<l&&this.sign<0||l<0&&0<this.sign||!l)&&(l=this.computeForce(i+this.ix[o+12],s+this.ix[o+16],r)),1<Math.abs(l)&&(a+=Math.pow(2,o))}if(15===a)return[i,s-1,!1];5===a?n=2===h?3:1:10===a?n=3===h?0:2:(n=this.mscases[a],this.grid[e].computed=this.iter);var d=this.step/(Math.abs(Math.abs(this.grid[i+this.plx[4*n+2]+(s+this.ply[4*n+2])*(this.sx+2)].force)-1)/Math.abs(Math.abs(this.grid[i+this.plx[4*n+3]+(s+this.ply[4*n+3])*(this.sx+2)].force)-1)+1);return p.lineTo(this.grid[i+this.plx[4*n]+(s+this.ply[4*n])*(this.sx+2)].x+this.ix[n]*d,this.grid[i+this.plx[4*n+1]+(s+this.ply[4*n+1])*(this.sx+2)].y+this.ix[n+4]*d),this.paint=!0,[i+this.ix[n+4],s+this.ix[n+8],n]},s.prototype.renderMetaballs=function(){for(var t,i=0;t=this.balls[i++];)t.move();for(this.iter++,this.sign=-this.sign,this.paint=!1,p.fillStyle=this.metaFill,p.beginPath(),i=0;t=this.balls[i++];){for(var s=[Math.round(t.pos.x/this.step),Math.round(t.pos.y/this.step),!1];s=this.marchingSquares(s););this.paint&&(p.fill(),p.closePath(),p.beginPath(),this.paint=!1)}};var l=function(t,i,s,h,e){var n=p.createRadialGradient(t/1,i/1,0,t/1,i/1,s);return n.addColorStop(0,h),n.addColorStop(1,e),n};if(document.getElementById("lamp-anim")){var h=function(){requestAnimationFrame(h),p.clearRect(0,0,e.width,e.height),t.renderMetaballs()},e=i.screen.init("lamp-anim",null,!0),p=e.ctx;e.resize(),t=new s(e.width,e.height,6,"#FF9298","#E4008E")}return{run:h}}(),document.getElementById("lamp-anim")&&lavaAnimation.run(),setTimeout(function(){$(".js-works-d-list").addClass("is-loaded")},150);